{% extends 'base.html' %}
    {% block head_title %}
        {{ block.super }} - Lista utenti
    {% endblock head_title %}
    
    {% block content %}
        <h2 class="mt-3">Lista utenti</h2>
        <hr>
        {% for utente in object_list %}   
            {% if forloop.first %}<div class="row">{% endif %}
                <div class="col-lg-4">
                    <div class="card my-1 border">
                        <div class="card-body py-4 px-4">
                            <p class="mb-0">    
                                <!-- username -->
                                <a href="{% url 'user_profile' username=utente.username %}">
                                    <strong>@{{utente.username}}</strong>
                                </a>

                                <br>
                            
                                <!-- join date -->
                                Iscrizioni: {{ utente.date_joined|date:"d M Y" }}
                                <br>
                                Posts: {{ utente.posts.count }}
                                <br>
                                Discussioni: {{ utente.discussioni.count }}
                            </p>
                        </div>
                    </div>
                </div>

            
            {% if forloop.counter|divisibleby:"3" or forloop.last %}</div>{% endif %}
            {% if forloop.counter|divisibleby:"3" and not forloop.last %}<div class="row">{% endif %}

        {% endfor %}
    {% endblock content %}